# Uncomment the next line to define a global platform for your project
# platform :ios, '9.0'


workspace 'hanashitai.xcworkspace'
project 'hanashitai.xcodeproj'
project 'SentenceTests/SentenceTests.xcodeproj'

use_frameworks!
inhibit_all_warnings!

target 'hanashitai' do
  platform :ios, '10.0'
  project 'hanashitai.xcodeproj'
  pod 'Alamofire'
  pod 'Charts',                  '3.2.1'
  pod 'SQLite.swift'
  pod 'PromisesSwift'
  pod 'Firebase/Analytics'
  pod 'Firebase/Performance'
  pod 'Fabric', '~> 1.10.2'
  pod 'Crashlytics', '~> 3.13.4'
end

target 'SentenceTests' do
  platform :osx, '10.15'
  project 'SentenceTests/SentenceTests.xcodeproj'
  pod 'SwiftSyllables', :git => "git@github.com:wangchou/SwiftSyllables.git"
  pod 'Alamofire'
  pod 'PromisesSwift'
  pod 'SQLite.swift'
end

# https://github.com/CocoaPods/CocoaPods/issues/3707#issuecomment-354754864
post_install do |installer|
  installer.pods_project.targets.each do |target|
    if target.name =~ /-macOS$/ or target.name == 'SwiftSyllables'
      target.build_configurations.each do |config|
        config.build_settings['DYLIB_INSTALL_NAME_BASE'] = target.product_name
        config.build_settings['ALWAYS_EMBED_SWIFT_STANDARD_LIBRARIES'] = 'YES'
      end
    end
    # https://github.com/CocoaPods/CocoaPods/issues/9884#issuecomment-698811522
    target.build_configurations.each do |bc|
        if bc.build_settings['IPHONEOS_DEPLOYMENT_TARGET'] == '8.0'
            bc.build_settings['IPHONEOS_DEPLOYMENT_TARGET'] = '10.0'
        end
    end
  end
end
